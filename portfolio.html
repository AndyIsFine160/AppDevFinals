<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>My Portfolio - EquiFy</title>
  <link rel="stylesheet" href="stock_style.css">
  <link rel="stylesheet" href="stock.css">"
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<div>

  <header class="portfolio-header">
  <h1 class="Myport">My Portfolio</h1>
  <div>
    <a href="index.html" class="back-btn">← Back to Home</a>
<form action="logout.php" method="post" style="display:inline;">
  <button type="submit" class="logout-btn">Logout</button>
</form>

  </div>
</header>


  <div class="main-content">

    <div class="portfolio-table">
      <table>
      <thead>
  <tr>
    <th>Stock</th>
    <th>Shares</th>
    <th>Purchase Value</th>
    <th>Current Value</th>
    <th>Sell Value</th>
    <th>Chart</th>
    <th>Action</th>
  </tr>
</thead>

<tbody>
  <tr>
  <td>Stock A</td>
  <td>12.34</td>
  <td>₱4,000.00</td>
  <td>₱5,678.90</td>
  <td>₱5,500.00</td>
  <td><canvas id="chart1"></canvas></td>
  <td>
    <form action="sell.php" method="post" onsubmit="return confirm('Are you sure you want to sell Stock A?')">
      <input type="hidden" name="stock_id" value="1">
      <button type="submit" class="sell-button">Sell</button>
    </form>
  </td>
</tr>

  <tr>
    <td>Stock B</td>
    <td>8.12</td>
    <td>₱2,900.00</td>
    <td>₱3,120.40</td>
    <td>₱3,050.00</td>
    <td><canvas id="chart2"></canvas></td>
    <td>
      <form action="sell.php" method="post" onsubmit="return confirm('Are you sure you want to sell Stock B?')">
        <input type="hidden" name="stock_id" value="2">
        <button type="submit" class="sell-button">Sell</button>
      </form>
    </td>
  </tr>
</tbody>

        </tbody>
      </table>
    </div>

  <div class="cash-forms">
  <form class="cash-form" action="cash_in.php" method="post" onsubmit="return confirm('Confirm cash in?')">
    <h3>Cash In</h3>
    <input type="number" name="amount" placeholder="Enter amount" required min="1" step="0.01">
    <button type="submit">Cash In</button>
  </form>

  <form class="cash-form" action="cash_out.php" method="post" onsubmit="return confirm('Confirm cash out?')">
    <h3>Cash Out</h3>
    <input type="number" name="amount" placeholder="Enter amount" required min="1" step="0.01">
    <button type="submit">Cash Out</button>
  </form>

  <div class="cash-form">
    <h3>Available Balance</h3>
    <p style="font-size: 18px; font-weight: bold; color: #267853;">
      ₱0.00 <!-- Only a placeholder -->
    </p>
  </div>
</div>


  </div>

  <script>
    const exampleData1 = [100, 102, 105, 103, 108, 107];
    const exampleData2 = [120, 118, 117, 119, 122, 125];

    new Chart(document.getElementById('chart1').getContext('2d'), {
      type: 'line',
      data: {
        labels: Array(exampleData1.length).fill(""),
        datasets: [{
          data: exampleData1,
          borderColor: '#28a745',
          backgroundColor: 'rgba(40, 167, 69, 0.2)',
          fill: true,
          tension: 0.3
        }]
      },
      options: {
        plugins: { legend: { display: false }},
        scales: {
          x: { display: false },
          y: { display: false }
        }
      }
    });

    new Chart(document.getElementById('chart2').getContext('2d'), {
      type: 'line',
      data: {
        labels: Array(exampleData2.length).fill(""),
        datasets: [{
          data: exampleData2,
          borderColor: '#28a745',
          backgroundColor: 'rgba(40, 167, 69, 0.2)',
          fill: true,
          tension: 0.3
        }]
      },
      options: {
        plugins: { legend: { display: false }},
        scales: {
          x: { display: false },
          y: { display: false }
        }
      }
    });
  </script>

</body>
</html>
